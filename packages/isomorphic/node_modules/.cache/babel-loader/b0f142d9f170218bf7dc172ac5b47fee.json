{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\tiago\\\\Desktop\\\\THg\\\\Projetos WEB\\\\Faceapp\\\\interface_facerecognition\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tiago\\\\Desktop\\\\THg\\\\Projetos WEB\\\\Faceapp\\\\interface_facerecognition\\\\shared\\\\isomorphic\\\\containers\\\\Profile\\\\Posts\\\\Posts.js\";\nimport React, { useState, Fragment, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { IoIosArrowBack, IoIosArrowForward, IoIosArrowDropleftCircle, IoIosArrowDroprightCircle } from 'react-icons/io';\nimport { FiHeart, FiShare, FiBookmark, FiMessageCircle, FiMoreHorizontal } from 'react-icons/fi';\nimport GlideCarousel, { GlideSlide } from '@iso/ui/GlideCarousel/GlideCarousel';\nimport Modal from '@iso/ui/Antd/Modal/Modal';\nimport PostCard from '@iso/components/PostCard';\nimport AvatarCard from '@iso/components/AvatarCard/AvatarCard';\nimport Comments from './Comments';\nimport PostsWrapper, { Button, ContentWrapper } from './Posts.styles';\nconst galleryOptions = {\n  gap: 0\n};\n\nconst Posts = ({\n  data\n}) => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentPost = _useState2[0],\n        setCurrentPost = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        visible = _useState4[0],\n        setVisible = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        items = _useState6[0],\n        setItems = _useState6[1];\n\n  useEffect(() => {\n    async function getItems() {\n      try {\n        const _ref = await axios.get(\"https://cors-anywhere.herokuapp.com/ https://8skytpx8xk.execute-api.us-east-1.amazonaws.com/dev/download_client_images/image-bucket-recognized\", {\n          mode: 'no-cors',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }),\n              data = _ref.data;\n\n        setItems(data);\n        console.log(data, \"result  axios\");\n      } catch (error) {\n        console.log(error);\n        alert(\"Ocorreu um erro ao buscar os items\");\n      }\n    }\n\n    getItems();\n  }, []); //console.log(items)\n\n  const showSelectedPost = item => {\n    setCurrentPost(item.position);\n    setVisible(true);\n  };\n\n  const renderHtml = items => {\n    return {\n      __html: items\n    };\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const handlePrevPost = () => {\n    setCurrentPost(currentPost - 1);\n  };\n\n  const handleNextPost = () => {\n    setCurrentPost(currentPost + 1);\n  };\n\n  let newData = {};\n  items.forEach(item => {\n    if (item.position === currentPost) {\n      newData = item;\n    }\n  });\n  console.log(currentPost, \"currentpost modal\");\n  return React.createElement(PostsWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \" \", items.map(item => React.createElement(PostCard, {\n    key: item.id,\n    variant: \"instagram\",\n    type: item.type,\n    image: item.thumb_url,\n    numberOflike: \"\",\n    numberOfView: \"\",\n    numberOfcomment: \"\",\n    onClick: () => showSelectedPost(item),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), \" \", React.createElement(Modal, {\n    wrapClassName: \"instagram-modal\",\n    visible: visible,\n    onCancel: handleCancel,\n    footer: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, currentPost > 1 && React.createElement(Button, {\n    className: \"prev\",\n    onClick: handlePrevPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(IoIosArrowBack, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), \" \", currentPost < items.length && React.createElement(Button, {\n    className: \"next\",\n    onClick: handleNextPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(IoIosArrowForward, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(ContentWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"media\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \" \", newData.type === 'image' && React.createElement(\"img\", {\n    src: newData.thumb_url,\n    alt: 'post',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), newData.type === 'gallery' && React.createElement(GlideCarousel, {\n    options: galleryOptions,\n    bullets: true,\n    prevButton: React.createElement(IoIosArrowDropleftCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }),\n    nextButton: React.createElement(IoIosArrowDroprightCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }),\n    numberOfBullets: newData.gallery.length,\n    carouselSelector: \"post-gallery--\".concat(newData.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \" \", newData.gallery.map((item, index) => React.createElement(GlideSlide, {\n    key: \"gallery-key\".concat(index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: item,\n    alt: 'post',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), \" \")), \" \"), \" \"), newData.type === 'video' && React.createElement(\"div\", {\n    className: \"video-container\",\n    dangerouslySetInnerHTML: renderHtml(newData.video),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), \" \"), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"avatar-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(AvatarCard, {\n    username: newData.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }), \" \", \" \"), \" \", React.createElement(\"button\", {\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(FiMoreHorizontal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  })), \" \"), React.createElement(\"div\", {\n    className: \"body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), \" \"), React.createElement(\"footer\", {\n    className: \"footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"top-bar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"like\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(FiHeart, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  })), \" \", React.createElement(\"button\", {\n    className: \"comment\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, React.createElement(FiMessageCircle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  })), \" \", React.createElement(\"button\", {\n    className: \"share\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(FiShare, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  })), \" \", React.createElement(\"button\", {\n    className: \"bookmark\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(FiBookmark, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  })), \" \"), \" \", React.createElement(\"div\", {\n    className: \"activity-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \" \", newData.numberOflike, \"likes \"), \" \", React.createElement(\"time\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, \" AUGUST 31 \"), \" \"), \" \"), \" \"))));\n};\n\nexport default Posts;","map":{"version":3,"sources":["C:/Users/tiago/Desktop/THg/Projetos WEB/Faceapp/interface_facerecognition/shared/isomorphic/containers/Profile/Posts/Posts.js"],"names":["React","useState","Fragment","useEffect","Link","axios","IoIosArrowBack","IoIosArrowForward","IoIosArrowDropleftCircle","IoIosArrowDroprightCircle","FiHeart","FiShare","FiBookmark","FiMessageCircle","FiMoreHorizontal","GlideCarousel","GlideSlide","Modal","PostCard","AvatarCard","Comments","PostsWrapper","Button","ContentWrapper","galleryOptions","gap","Posts","data","currentPost","setCurrentPost","visible","setVisible","items","setItems","getItems","get","mode","headers","console","log","error","alert","showSelectedPost","item","position","renderHtml","__html","handleCancel","handlePrevPost","handleNextPost","newData","forEach","map","id","type","thumb_url","length","gallery","index","video","name","numberOflike"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {\n    IoIosArrowBack,\n    IoIosArrowForward,\n    IoIosArrowDropleftCircle,\n    IoIosArrowDroprightCircle,\n} from 'react-icons/io';\nimport {\n    FiHeart,\n    FiShare,\n    FiBookmark,\n    FiMessageCircle,\n    FiMoreHorizontal,\n} from 'react-icons/fi';\nimport GlideCarousel, { GlideSlide } from '@iso/ui/GlideCarousel/GlideCarousel';\nimport Modal from '@iso/ui/Antd/Modal/Modal';\nimport PostCard from '@iso/components/PostCard';\nimport AvatarCard from '@iso/components/AvatarCard/AvatarCard';\nimport Comments from './Comments';\nimport PostsWrapper, { Button, ContentWrapper } from './Posts.styles';\n\nconst galleryOptions = {\n    gap: 0,\n};\n\nconst Posts = ({ data }) => {\n    const [currentPost, setCurrentPost] = useState(0);\n    const [visible, setVisible] = useState(false);\n\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        async function getItems() {\n            try {\n                const { data } = await axios.get(\"https://cors-anywhere.herokuapp.com/ https://8skytpx8xk.execute-api.us-east-1.amazonaws.com/dev/download_client_images/image-bucket-recognized\", {\n                    mode: 'no-cors',\n                    headers: { 'Content-Type': 'application/json' }\n                });\n                setItems(data);\n                console.log(data, \"result  axios\")\n            } catch (error) {\n                console.log(error)\n                alert(\"Ocorreu um erro ao buscar os items\");\n            }\n        }\n        getItems();\n    }, []);\n    //console.log(items)\n    const showSelectedPost = item => {\n        setCurrentPost(item.position);\n        setVisible(true);\n    };\n\n    const renderHtml = items => {\n        return { __html: items };\n    };\n\n    const handleCancel = () => {\n        setVisible(false);\n    };\n\n    const handlePrevPost = () => {\n        setCurrentPost(currentPost - 1);\n    };\n\n    const handleNextPost = () => {\n        setCurrentPost(currentPost + 1);\n    };\n\n    let newData = {};\n\n    items.forEach(item => {\n        if (item.position === currentPost) {\n            newData = item;\n        }\n    });\n    console.log(currentPost, \"currentpost modal\")\n    return (\n\n        <\n        PostsWrapper > {\n            items.map(item => ( <\n                PostCard key = { item.id }\n                variant = \"instagram\"\n                type = { item.type }\n                image = { item.thumb_url }\n                numberOflike = \"\"\n                numberOfView = \"\"\n                numberOfcomment = \"\"\n                onClick = {\n                    () => showSelectedPost(item) }\n                />\n            ))\n        } <\n        Modal wrapClassName = \"instagram-modal\"\n        visible = { visible }\n        onCancel = { handleCancel }\n        footer = { null } >\n\n        {\n            currentPost > 1 && ( <\n                Button className = \"prev\"\n                onClick = { handlePrevPost } >\n                <\n                IoIosArrowBack / >\n                <\n                /Button>\n            )\n        } {\n            currentPost < items.length && ( <\n                Button className = \"next\"\n                onClick = { handleNextPost } >\n                <\n                IoIosArrowForward / >\n                <\n                /Button>\n            )\n        }\n\n        <\n        ContentWrapper >\n        <\n        div className = \"media\" > {\n            newData.type === 'image' && ( <\n                img src = { newData.thumb_url }\n                alt = { 'post' }\n                />\n            )\n        }\n\n        {\n            newData.type === 'gallery' && ( <\n                GlideCarousel options = { galleryOptions }\n                bullets = { true }\n                prevButton = { < IoIosArrowDropleftCircle / > }\n                nextButton = { < IoIosArrowDroprightCircle / > }\n                numberOfBullets = { newData.gallery.length }\n                carouselSelector = { `post-gallery--${newData.id}` } >\n                <\n                Fragment > {\n                    newData.gallery.map((item, index) => ( <\n                        GlideSlide key = { `gallery-key${index}` } >\n                        <\n                        img src = { item }\n                        alt = { 'post' }\n                        /> <\n                        /GlideSlide>\n                    ))\n                } <\n                /Fragment> <\n                /GlideCarousel>\n            )\n        }\n\n        {\n            newData.type === 'video' && ( <\n                div className = \"video-container\"\n                dangerouslySetInnerHTML = { renderHtml(newData.video) } >\n                < /div>\n            )\n        } <\n        /div>\n\n        <\n        div className = \"content\" >\n        <\n        header className = \"header\" >\n        <\n        div className = \"avatar-wrapper\" >\n        <\n        AvatarCard username = { newData.name }\n        /> {\n            /* <span>â€¢</span>\n                            <Link to=\"/dashboard/my-profile\" rel=\"nofollow\">\n                              Follow\n                            </Link> */\n        } <\n        /div> <\n        button type = \"button\" >\n        <\n        FiMoreHorizontal / >\n        <\n        /button> <\n        /header>\n\n        <\n        div className = \"body\" >\n        <\n        div className = \"comments\" >\n\n        <\n        /div> <\n        /div>\n\n        <\n        footer className = \"footer\" >\n        <\n        div className = \"top-bar\" >\n        <\n        button className = \"like\"\n        type = \"button\" >\n        <\n        FiHeart / >\n        <\n        /button> <\n        button className = \"comment\"\n        type = \"button\" >\n        <\n        FiMessageCircle / >\n        <\n        /button> <\n        button className = \"share\"\n        type = \"button\" >\n        <\n        FiShare / >\n        <\n        /button> <\n        button className = \"bookmark\"\n        type = \"button\" >\n        <\n        FiBookmark / >\n        <\n        /button> <\n        /div> <\n        div className = \"activity-info\" >\n        <\n        h5 > { newData.numberOflike }\n        likes < /h5> <\n        time > AUGUST 31 < /time> <\n        /div> <\n        /footer> <\n        /div>\n\n        <\n        /ContentWrapper>\n\n        <\n        /Modal>\n\n\n        <\n        /PostsWrapper>\n\n    );\n};\n\nexport default Posts;"]},"metadata":{},"sourceType":"module"}