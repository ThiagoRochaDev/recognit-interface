{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tiago\\\\Downloads\\\\templates_teste\\\\isoadmin-330\\\\Isomorphic - React Redux Admin Dashboard\\\\isomorphic\\\\packages\\\\hotel-next\\\\context\\\\AuthProvider.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Cookies from 'js-cookie';\nimport { TOKEN_COOKIE, USER_COOKIE } from '../helpers/session';\nimport redirect from '../helpers/redirect';\nexport const AuthContext = React.createContext();\nconst fakeUserData = {\n  id: 1,\n  name: 'Jhon Doe',\n  avatar: '/static/placeholder/profilepic.png',\n  roles: ['USER', 'ADMIN']\n};\n/**\n * We have used Fake JWT token from \"jwt.io\"\n * This is a sample token to show auth is working\n * Your token will come from your server when user successfully loggedIn.\n */\n\nconst fakeToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYW1lIjoidGFyZXEgam9iYXllcmUiLCJyb2xlcyI6ImFkbWluIn0.k74_B-zeWket405dIAt018mnQFMh_6_BTFpjB77HtRQ';\n\nconst addItem = (key, value = '') => {\n  /**\n   *  Using the local storage code....\n   */\n  // if (key) localStorage.setItem(key, value);\n\n  /**\n   *  Using the Cookies code...\n   */\n  if (key) Cookies.set(key, value, {\n    expires: 7\n  });\n};\n\nconst clearItem = key => {\n  /**\n   *  Using the local storage code....\n   */\n  // localStorage.removeItem(key);\n\n  /**\n   *  Using the Cookies code...\n   */\n  Cookies.remove(key);\n};\n\nconst isValidToken = () => {\n  /**\n   *  Using the local storage code....\n   */\n  // const token = localStorage.getItem(TOKEN_COOKIE);\n\n  /**\n   *  Using the Cookies code...\n   */\n  const token = Cookies.get(TOKEN_COOKIE); // JWT decode & check token validity & expiration.\n\n  if (token) return true;\n  return false;\n};\n\nconst AuthProvider = props => {\n  const {\n    0: loggedIn,\n    1: setLoggedIn\n  } = useState(isValidToken()); // const [loggedOut, setLoggedOut] = useState(true);\n\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  const {\n    0: token,\n    1: setToken\n  } = useState(null);\n\n  const signIn = params => {\n    /**\n     * Make post request here to authenticate with fetch\n     * if returns true then change the state\n     */\n    console.log(params, 'sign in form Props');\n    setUser(fakeUserData);\n    setToken(fakeToken);\n    addItem(TOKEN_COOKIE, fakeToken);\n    addItem(USER_COOKIE, fakeUserData);\n    setLoggedIn(true);\n  };\n\n  const signUp = params => {\n    console.log(params, 'sign up form Props');\n    setUser(fakeUserData);\n    setToken(fakeToken);\n    addItem(TOKEN_COOKIE, fakeToken);\n    addItem(USER_COOKIE, fakeUserData);\n    setLoggedIn(true);\n  };\n  /**\n   * For 3rd-party Authentication [e.g. Autho0, firebase, AWS etc]\n   *\n   */\n\n\n  const tokenAuth = (token, user = {}) => {\n    setUser(user);\n    setToken(token);\n    addItem(TOKEN_COOKIE, token);\n    addItem(USER_COOKIE, user);\n    setLoggedIn(true);\n  };\n\n  const forgetPass = params => {\n    console.log(params, 'forget password form Props');\n  };\n\n  const changePass = params => {\n    console.log(params, 'change password form Props');\n  };\n\n  const logOut = () => {\n    setUser(null);\n    setToken(null);\n    clearItem(TOKEN_COOKIE);\n    clearItem(USER_COOKIE);\n    setLoggedIn(false);\n    redirect({}, '/');\n  };\n\n  return __jsx(AuthContext.Provider, {\n    value: {\n      loggedIn,\n      logOut,\n      signIn,\n      signUp,\n      forgetPass,\n      changePass,\n      tokenAuth,\n      user,\n      token\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, __jsx(React.Fragment, null, props.children));\n};\n\nexport default AuthProvider;","map":{"version":3,"sources":["C:/Users/tiago/Downloads/templates_teste/isoadmin-330/Isomorphic - React Redux Admin Dashboard/isomorphic/packages/hotel-next/context/AuthProvider.js"],"names":["React","useState","Cookies","TOKEN_COOKIE","USER_COOKIE","redirect","AuthContext","createContext","fakeUserData","id","name","avatar","roles","fakeToken","addItem","key","value","set","expires","clearItem","remove","isValidToken","token","get","AuthProvider","props","loggedIn","setLoggedIn","user","setUser","setToken","signIn","params","console","log","signUp","tokenAuth","forgetPass","changePass","logOut","children"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Cookies from 'js-cookie';\nimport { TOKEN_COOKIE, USER_COOKIE } from '../helpers/session';\nimport redirect from '../helpers/redirect';\n\nexport const AuthContext = React.createContext();\n\nconst fakeUserData = {\n  id: 1,\n  name: 'Jhon Doe',\n  avatar: '/static/placeholder/profilepic.png',\n  roles: ['USER', 'ADMIN'],\n};\n\n/**\n * We have used Fake JWT token from \"jwt.io\"\n * This is a sample token to show auth is working\n * Your token will come from your server when user successfully loggedIn.\n */\n\nconst fakeToken =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYW1lIjoidGFyZXEgam9iYXllcmUiLCJyb2xlcyI6ImFkbWluIn0.k74_B-zeWket405dIAt018mnQFMh_6_BTFpjB77HtRQ';\n\nconst addItem = (key, value = '') => {\n  /**\n   *  Using the local storage code....\n   */\n  // if (key) localStorage.setItem(key, value);\n\n  /**\n   *  Using the Cookies code...\n   */\n  if (key) Cookies.set(key, value, { expires: 7 });\n};\n\nconst clearItem = key => {\n  /**\n   *  Using the local storage code....\n   */\n  // localStorage.removeItem(key);\n\n  /**\n   *  Using the Cookies code...\n   */\n  Cookies.remove(key);\n};\n\nconst isValidToken = () => {\n  /**\n   *  Using the local storage code....\n   */\n  // const token = localStorage.getItem(TOKEN_COOKIE);\n\n  /**\n   *  Using the Cookies code...\n   */\n  const token = Cookies.get(TOKEN_COOKIE);\n  // JWT decode & check token validity & expiration.\n  if (token) return true;\n  return false;\n};\n\nconst AuthProvider = props => {\n  const [loggedIn, setLoggedIn] = useState(isValidToken());\n  // const [loggedOut, setLoggedOut] = useState(true);\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n\n  const signIn = params => {\n    /**\n     * Make post request here to authenticate with fetch\n     * if returns true then change the state\n     */\n    console.log(params, 'sign in form Props');\n    setUser(fakeUserData);\n    setToken(fakeToken);\n    addItem(TOKEN_COOKIE, fakeToken);\n    addItem(USER_COOKIE, fakeUserData);\n    setLoggedIn(true);\n  };\n  const signUp = params => {\n    console.log(params, 'sign up form Props');\n    setUser(fakeUserData);\n    setToken(fakeToken);\n    addItem(TOKEN_COOKIE, fakeToken);\n    addItem(USER_COOKIE, fakeUserData);\n    setLoggedIn(true);\n  };\n\n  /**\n   * For 3rd-party Authentication [e.g. Autho0, firebase, AWS etc]\n   *\n   */\n  const tokenAuth = (token, user = {}) => {\n    setUser(user);\n    setToken(token);\n    addItem(TOKEN_COOKIE, token);\n    addItem(USER_COOKIE, user);\n    setLoggedIn(true);\n  };\n\n  const forgetPass = params => {\n    console.log(params, 'forget password form Props');\n  };\n  const changePass = params => {\n    console.log(params, 'change password form Props');\n  };\n\n  const logOut = () => {\n    setUser(null);\n    setToken(null);\n    clearItem(TOKEN_COOKIE);\n    clearItem(USER_COOKIE);\n    setLoggedIn(false);\n    redirect({}, '/');\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        loggedIn,\n        logOut,\n        signIn,\n        signUp,\n        forgetPass,\n        changePass,\n        tokenAuth,\n        user,\n        token,\n      }}\n    >\n      <>{props.children}</>\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n"]},"metadata":{},"sourceType":"module"}